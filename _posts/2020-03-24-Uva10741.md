---
title: Uva 10741  Magic Cube
---


## Input

```text

Fig. 1:
Triadonals(dotted

lines)

An N  N  N magic cube is a cube composed of N3 consecutive integers
(usually 1 through N3) arranged in such way that each row, each column,
each main diagonal of the square cross sections, and each of the four triagonals
containing N integers adds up to the same sum. Though it is not easy to
construct a magic cube when N is even, there is a very simple approach for
constructing one when N is odd.

To construct an odd order magic cube, start by placing the integer 1 at
the center of the bottom layer of the cube (Fig. 2). Then proceed diagonally
down to the right along the central vertical square cross section (the shaded
vertical plane in Fig. 2), and keep placing consecutive integers in every empty
location you visit. When you run off the bottom of the plane, your reenter at
the top. When you run off the right-hand side, you reenter on the left-hand
side.

Fig. 2: The one back and one down move Fig. 3: The up one move

Every time you find a non-empty location on your way, just go back one layer and down one, as
shown in Fig. 2 for the move from 5 to 6. Continue to proceed diagonally in the new plane, repeating
the one back and one down step as required. If the one back and one down step does not work,
i.e., you still arrive at a non-empty location, just go up one layer and continue moving diagonally. The
up one step is shown in Fig. 3 for the move from 25 to 26.



Universidad de Valladolid OJ: 10741  Magic Cube 2/3
```

## Output

```text
The input may contain multiple test cases. Each line of the input contains an odd integer N (1  N 
25) giving the dimension of the cube.

Input is terminated by a zero. This zero should not be processed.

```

## Sample Input

```text
For each test case in the input output the corresponding magic cube as follows. First print the numbers
in the top layer of the cube, followed by numbers in the second layer, then the numbers in the third
layer, and so on. For each layer first print the numbers in row A (see Fig. 2 and Fig. 3) on one line from
left to right (A1 to AN ), followed by the numbers in row B on the next line, then row C on the third
line, and so on. Print each number right aligned on a field of width 5, and separate two successive such
fields on the same line by a white space character. Print a blank line between two successive layers.

Separate the output for every two successive test cases by a blank line.

```

## Sample Output

```text
3
5
0

```
