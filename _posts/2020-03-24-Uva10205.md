---
title: Uva 10205  Stack em Up
---


## Input

```text
A standard playing card deck contains 52 cards, 13 values in each
of four suits. The values are named 2, 3, 4, 5, 6, 7, 8, 9, 10, Jack,
Queen, King, Ace. The suits are named Clubs, Diamonds, Hearts,
Spades. A particular card in the deck can be uniquely identified
by its value and suit, typically denoted < value > of < suit >.
For example, 9 of Hearts or King of Spades. Traditionally a
new deck is ordered first alphabetically by suit, then by value in
the order given above.

The Big City has many Casinos. In one such casino the dealer is a bit crooked. She has perfected
several shuffles; each shuffle rearranges the cards in exactly the same way whenever it is used. A very
simple example is the bottom card shuffle which removes the bottom card and places it at the top.
By using various combinations of these known shuffles, the crooked dealer can arrange to stack the
cards in just about any particular order.

You have been retained by the security manager to track this dealer. You are given a list of all the
shuffles performed by the dealer, along with visual cues that allow you to determine which shuffle she
uses at any particular time. Your job is to predict the order of the cards after a sequence of shuffles.
```

## Output

```text
The input begins with a single positive integer on a line by itself indicating the number of the cases
following, each of them as described below. This line is followed by a blank line, and there is also a
blank line between two consecutive inputs.

Input consists of an integer n  100, the number of shuffles that the dealer knows. 52n integers
follow. Each consecutive 52 integers will comprise all the integers from 1 to 52 in some order. Within
each set of 52 integers, i in position j means that the shuffle moves the i-th card in the deck to position
j.

Several lines follow; each containing an integer k between 1 and n indicating that you have observed
the dealer applying the k-th shuffle given in the input.

```

## Sample Input

```text
For each test case, the output must follow the description below. The outputs of two consecutive cases
will be separated by a blank line.

Assume the dealer starts with a new deck ordered as described above. After all the shuffles had
been performed, give the names of the cards in the deck, in the new order.

```

## Sample Output

```text
1

2
2 1 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26
27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 52 51
52 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26
27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 1
1



Universidad de Valladolid OJ: 10205  Stack em Up 2/3

2

```
